
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FÂ² Bet - Aviator Money Game</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body { margin:0; padding:0; font-family:'Press Start 2P', cursive; background: linear-gradient(135deg,#0d0d0d,#1a1a1a); color:#fff; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; padding-top:20px; }
.container { width:90%; max-width:480px; background: rgba(26,26,26,0.95); padding:20px; border-radius:16px; box-shadow:0 0 30px rgba(0,255,255,0.3); text-align:center; margin-bottom:20px;}
h1 { margin-bottom:10px; font-size:28px; color:#00ffff; text-shadow:2px 2px #000; animation: glow 1.5s infinite alternate; }
button { width:100%; padding:14px; margin:10px 0; font-size:16px; border:none; border-radius:10px; background:#28a745; color:white; cursor:pointer; transition: transform 0.1s, background 0.3s; }
button:hover { background:#1db954; }
button:active { transform:scale(0.97); }
input[type=number], input[type=text], input[type=password] { width:60%; padding:6px; margin:10px 0; font-size:14px; border-radius:6px; border:none; text-align:center; }
.stats, .aviator, .bank, .leaderboard { margin-top:20px; font-size:16px; }
@keyframes glow { from { text-shadow:2px 2px #000,0 0 5px #00ffff;} to { text-shadow:2px 2px #000,0 0 20px #00ffff; } }
/* ---------------- Coin Animation ---------------- */
.coin-animation {
Â  width:40px; height:40px;
Â  position:absolute;
Â  background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAr0lEQVR4nO3WMQqEIBAFUIdqJrK1nY6YYT0wCTJE2zOk6TxzYB/fz2dx3BVgzCKL2MAIZ0AUfAhZGAimIBkoQGWkARhQBGFAEUQIRgAhZGAimIBkoQGWkARhQBGFAEUQIRgAhZGAimIBkoQGWkARhQBGFAEUQIRgAhZGAimIBkoQGWkARhQBGFAEUQIRgAhZGAimIBkoQGWkARhQBGFAEVQfZ2ZWX+Y8dI4wAAAABJRU5ErkJggg==');
Â  background-size:cover;
Â  animation: coinJump 1s ease-out forwards;
Â  pointer-events:none;
Â  z-index:1000;
}
@keyframes coinJump {
Â  0% { transform: translateY(0) rotate(0deg); opacity:1; }
Â  50% { transform: translateY(-80px) rotate(180deg); opacity:1; }
Â  100% { transform: translateY(-120px) rotate(360deg); opacity:0; }
}
/* ---------------- Confetti Animation ---------------- */
.confetti {
Â  position: absolute;
Â  width: 8px;
Â  height: 8px;
Â  background-color: #ff0;
Â  opacity: 0.8;
Â  pointer-events:none;
Â  animation: confettiFall 1s linear forwards;
}
@keyframes confettiFall {
Â  0% { transform: translateY(0) rotate(0deg); opacity:1; }
Â  100% { transform: translateY(200px) rotate(360deg); opacity:0; }
}
canvas { width:100%; height:150px; background:#111; margin-top:10px; border-radius:8px; }
.hidden { display:none; }
#coinContainer { position:relative; height:150px; }
</style>
</head>
<body>
<!-- Registration / Login / Demo -->
<div class="container" id="loginContainer">
<h1>FÂ² Bet</h1>
<p>Register, Login or Play Demo</p>
<input type="text" id="fullName" placeholder="Full Name (as in ID)">
<input type="text" id="phoneNumber" placeholder="07XXXXXXXX">
<input type="password" id="password" placeholder="Password">
<button onclick="registerUser()">Register</button>
<button onclick="loginUser()">Login</button>
<button onclick="startDemo()">Play Demo</button>
</div>
<!-- Game Container -->
<div class="container hidden" id="gameContainer">
<h1>Welcome <span id="userDisplay"></span></h1>
<div id="bankSection">
<input type="number" id="depositAmount" placeholder="Deposit KES" min="1">
<button onclick="depositMoney()">Deposit Money</button>
<button onclick="withdrawWinnings()">Withdraw Balance (10% fee)</button>
</div>
<input type="number" id="betAmount" placeholder="Bet Amount (min 20)" min="20">
<button id="startAviatorBtn" onclick="startAviator()">Start Aviator</button>
<button id="cashOutBtn" onclick="cashOut()" disabled>Cash Out</button>
<div class="stats">
<p><strong>Balance:</strong> KES <span id="balance">100</span></p>
<p><strong>Profit Today:</strong> KES <span id="profit">0</span></p>
</div>
<div class="bank">
<p><strong>Bank / Withdrawable:</strong> KES <span id="bank">0</span></p>
<p><strong>Admin Profit:</strong> KES <span id="adminProfit">0</span></p>
<button onclick="adminWithdraw()">Admin Withdraw Profits</button>
</div>
<div class="aviator">
<p><strong>Current Multiplier:</strong> x<span id="multiplier">1.00</span></p>
<canvas id="multiplierCanvas"></canvas>
<p id="aviatorResult"></p>
<div id="coinContainer"></div>
</div>
<div class="leaderboard">
<h3>Top Players</h3>
<ol id="leaderboardList"></ol>
</div>
<!-- Embedded base64 dummy sounds -->
<audio id="coinSound" src="data:audio/mp3;base64,//uQxAA...shortdummycoin..." preload="auto"></audio>
<audio id="crashSound" src="data:audio/mp3;base64,//uQxAA...shortdummycrash..." preload="auto"></audio>
<audio id="milestoneSound" src="data:audio/mp3;base64,//uQxAA...shortdummymilestone..." preload="auto"></audio>
<script>
// ---------------- User & Storage ----------------
let currentUser = '';
let demoMode = false;
let users = JSON.parse(localStorage.getItem('users')) || {};
let balance=0, profit=0, bank=0, adminProfit=0;
// SHA-256 hash
async function hashPassword(password){
Â  const msgBuffer = new TextEncoder().encode(password);
Â  const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
Â  const hashArray = Array.from(new Uint8Array(hashBuffer));
Â  return hashArray.map(b=>b.toString(16).padStart(2,'0')).join('');
}
// Register user
async function registerUser(){
Â  const fullName = document.getElementById('fullName').value.trim();
Â  const phone = document.getElementById('phoneNumber').value.trim();
Â  const password = document.getElementById('password').value;
Â  const kenyanRegex = /^(?:07|01)\d{8}$/;
Â  if(!fullName){ alert('Enter full name'); return; }
Â  if(!kenyanRegex.test(phone)){ alert('Enter valid Kenyan phone number'); return; }
Â  if(!password){ alert('Enter password'); return; }
Â  if(users[phone]){ alert('Number already registered'); return; }
Â  const passHash = await hashPassword(password);
Â  users[phone] = { fullName, phoneNumber: phone, passHash, balance: 100, profit:0, bank:0 };
Â  localStorage.setItem('users', JSON.stringify(users));
Â  alert('Registration successful! You can now login.');
}
// Login user
async function loginUser(){
Â  const phone = document.getElementById('phoneNumber').value.trim();
Â  const password = document.getElementById('password').value;
Â  const kenyanRegex = /^(?:07|01)\d{8}$/;
Â  if(!kenyanRegex.test(phone)){ alert('Enter valid Kenyan phone number'); return; }
Â  if(!password){ alert('Enter password'); return; }
Â  if(!users[phone]){ alert('Number not registered'); return; }
Â  const passHash = await hashPassword(password);
Â  if(users[phone].passHash !== passHash){ alert('Incorrect password'); return; }
Â  currentUser = phone;
Â  demoMode = false;
Â  startGame();
}
// Start Demo
function startDemo(){
Â  currentUser = 'DemoPlayer';
Â  demoMode = true;
Â  balance = 100;
Â  profit = 0;
Â  bank = 0;
Â  document.getElementById('bankSection').style.display='none';
Â  startGame();
}
// Start game display
function startGame(){
Â  document.getElementById('loginContainer').classList.add('hidden');
Â  document.getElementById('gameContainer').classList.remove('hidden');
Â  document.getElementById('userDisplay').innerText = demoMode ? 'Demo Player' : users[currentUser].fullName;
Â  loadUser();
}
// Load user data
function loadUser(){
Â  if(!demoMode){
Â Â Â  const data = users[currentUser];
Â Â Â  balance = data.balance;
Â Â Â  profit = data.profit;
Â Â Â  bank = data.bank;
Â Â Â  adminProfit = parseInt(localStorage.getItem('adminProfit')) || 0;
Â  }
Â  updateStats();
Â  updateLeaderboard();
}
// Save user data
function saveUser(){
Â  if(!demoMode){
Â Â Â  users[currentUser] = { ...users[currentUser], balance, profit, bank };
Â Â Â  localStorage.setItem('users', JSON.stringify(users));
Â Â Â  localStorage.setItem('adminProfit', adminProfit);
Â  }
Â  updateLeaderboard();
}
// ---------------- Stats / Animations ----------------
function updateStats(){
Â  document.getElementById("balance").innerText = balance;
Â  document.getElementById("profit").innerText = profit;
Â  document.getElementById("bank").innerText = bank;
Â  document.getElementById("adminProfit").innerText = adminProfit;
}
function animateCoin(){
Â  const container = document.getElementById('coinContainer');
Â  for(let i=0;i<5;i++){
Â Â Â  const coin = document.createElement('div');
Â Â Â  coin.className='coin-animation';
Â Â Â  coin.style.left = (Math.random()*80) + '%';
Â Â Â  container.appendChild(coin);
Â Â Â  setTimeout(()=>container.removeChild(coin),1000);
Â  }
Â  animateConfetti();
}
function animateConfetti(){
Â  const container = document.getElementById('coinContainer');
Â  for(let i=0;i<15;i++){
Â Â Â  const confetti = document.createElement('div');
Â Â Â  confetti.className='confetti';
Â Â Â  confetti.style.left = (Math.random()*100) + '%';
Â Â Â  confetti.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 50%)`;
Â Â Â  container.appendChild(confetti);
Â Â Â  setTimeout(()=>container.removeChild(confetti),1000);
Â  }
}
// Deposit
function depositMoney(){
Â  if(demoMode){ alert('Deposit not allowed in demo mode'); return; }
Â  const dep = parseInt(document.getElementById('depositAmount').value);
Â  if(isNaN(dep)||dep<=0){ alert('Enter valid deposit'); return; }
Â  balance += dep;
Â  saveUser();
Â  updateStats();
Â  animateCoin();
}
// Withdraw
function withdrawWinnings(){
Â  if(demoMode){ alert('Withdraw not allowed in demo mode'); return; }
Â  if(balance<250){ alert('Minimum withdrawal is KES 250'); return; }
Â  let withdrawAmount = balance;
Â  const dailyLimit = 5000;
Â  const fee = Math.floor(withdrawAmount*0.10);
Â  if(withdrawAmount>dailyLimit){
Â Â Â  withdrawAmount = dailyLimit;
Â Â Â  alert(`Maximum withdrawal per day is KES ${dailyLimit}. You will withdraw KES ${withdrawAmount}.`);
Â  }
Â  const userAmount = withdrawAmount - fee;
Â  bank += userAmount;
Â  adminProfit += fee;
Â  balance -= withdrawAmount;
Â  saveUser();
Â  updateStats();
Â  alert(`Withdrawn KES ${userAmount}. Fee KES ${fee} to admin.`);
}
// Admin withdraw
function adminWithdraw(){
Â  if(adminProfit<=0){ alert('No profits'); return; }
Â  const take = adminProfit;
Â  adminProfit = 0;
Â  saveUser();
Â  updateStats();
Â  alert(`Admin withdrew KES ${take} profits!`);
}
// ---------------- Aviator Game ----------------
let aviatorInterval=null, crashPoint=0, currentMultiplier=1, currentBet=0, cashedOut=false;
let multiplierHistory = [];
function startAviator(){
Â  currentBet = parseInt(document.getElementById('betAmount').value);
Â  if(isNaN(currentBet)||currentBet<20){ alert('Minimum bet 20 KES'); return; }
Â  if(balance<currentBet){ alert('Not enough balance!'); return; }
Â  balance -= currentBet;
Â  currentMultiplier=1.0;
Â  crashPoint = Math.random()*29.5+1.0;
Â  cashedOut=false;
Â  multiplierHistory = [];
Â  document.getElementById('multiplier').innerText=currentMultiplier.toFixed(2);
Â  document.getElementById('aviatorResult').innerText='';
Â  document.getElementById('startAviatorBtn').disabled=true;
Â  document.getElementById('cashOutBtn').disabled=false;
Â  aviatorInterval = setInterval(()=>{ 
Â Â Â  currentMultiplier += (Math.random()*0.08 + 0.03);
Â Â Â  multiplierHistory.push(currentMultiplier);
Â Â Â  drawGraph();
Â Â Â  if([2,5,10,20].some(x => Math.abs(currentMultiplier-x)<0.05)){
Â Â Â Â Â  document.getElementById('milestoneSound').play();
Â Â Â  }
Â Â Â  if(currentMultiplier>=crashPoint){
Â Â Â Â Â  clearInterval(aviatorInterval);
Â Â Â Â Â  document.getElementById('multiplier').innerText=crashPoint.toFixed(2);
Â Â Â Â Â  document.getElementById('aviatorResult').innerText='ðŸ’¥ Crashed!';
Â Â Â Â Â  document.getElementById('startAviatorBtn').disabled=false;
Â Â Â Â Â  document.getElementById('cashOutBtn').disabled=true;
Â Â Â Â Â  if(!demoMode) document.getElementById('crashSound').play();
Â Â Â Â Â  saveUser();
Â Â Â  } else {
Â Â Â Â Â  document.getElementById('multiplier').innerText=currentMultiplier.toFixed(2);
Â Â Â  }
Â  },50);
Â  updateStats();
}
// Cash Out
function cashOut(){
Â  if(cashedOut) return;
Â  cashedOut=true;
Â  clearInterval(aviatorInterval);
Â  const winnings = Math.floor(currentBet * currentMultiplier);
Â  balance += winnings;
Â  profit += winnings - currentBet;
Â  document.getElementById('aviatorResult').innerText=`ðŸ’° Cashed out KES ${winnings}!`;
Â  document.getElementById('startAviatorBtn').disabled=false;
Â  document.getElementById('cashOutBtn').disabled=true;
Â  if(!demoMode) document.getElementById('coinSound').play();
Â  saveUser();
Â  updateStats();
Â  animateCoin();
}
// ---------------- Multiplier Graph ----------------
const canvas = document.getElementById('multiplierCanvas');
const ctx = canvas.getContext('2d');
function drawGraph(){
Â  ctx.clearRect(0,0,canvas.width,canvas.height);
Â  ctx.beginPath();
Â  ctx.moveTo(0,canvas.height-10);
Â  multiplierHistory.forEach((m,i)=>{
Â Â Â  const x = i * (canvas.width / 500);
Â Â Â  const y = canvas.height - m*4;
Â Â Â  ctx.lineTo(x,y<0?0:y);
Â  });
Â  ctx.strokeStyle='#00ffff';
Â  ctx.lineWidth=2;
Â  ctx.stroke();
}
// ---------------- Leaderboard ----------------
function updateLeaderboard(){
Â  let leaderboard = Object.entries(users).sort((a,b)=>b[1].balance - a[1].balance).slice(0,5);
Â  const lbElem = document.getElementById('leaderboardList');
Â  lbElem.innerHTML='';
Â  leaderboard.forEach(([phone,data])=>{
Â Â Â  const li = document.createElement('li');
Â Â Â  li.innerText=`${data.fullName}: KES ${data.balance}`;
Â Â Â  lbElem.appendChild(li);
Â  });
}
</script>
</body>
  </html>
